<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Components Demo</title>

    <!-- 1. Apply Theme Styles -->
    <script type="module">
        try {
            // Import the CORRECT provider bundle
            const themeProvider = await import('../../dist/components/theme/theme-provider.min.js'); 
            if (themeProvider && themeProvider.applyThemes) {
                themeProvider.applyThemes(); // Apply themes immediately
                
                // Auto set to dark mode for testing (can be removed later)
                setTimeout(() => {
                    if (themeProvider.setTheme) {
                        themeProvider.setTheme('dark');
                        // Store preference in localStorage
                        localStorage.setItem('theme', 'dark');
                        // Update toggle button state
                        const setDarkBtn = document.getElementById('set-dark');
                        if (setDarkBtn) {
                            setDarkBtn.classList.add('active');
                            document.getElementById('set-light')?.classList.remove('active');
                            document.getElementById('set-system')?.classList.remove('active');
                        }
                    }
                }, 100);
            } else {
                console.error('Theme provider or applyThemes function not found.');
            }
        } catch (error) {
            console.error('Failed to load or apply theme provider:', error);
        }
    </script>

    <!-- Load components AFTER applying theme -->
    <script type="module" defer src="../../dist/components/avatar/avatar.min.js"></script>
    <script type="module" defer src="../../dist/components/button/button.min.js"></script>
    
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Theme toggle styling */
        .theme-toggle-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            border: 1px solid var(--border);
            background-color: var(--background);
            color: var(--foreground);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        
        .theme-toggle-btn:hover {
            background-color: var(--accent);
            color: var(--accent-foreground);
        }
        
        .theme-toggle-btn.active {
            background-color: var(--primary);
            color: var(--primary-foreground);
            border-color: var(--primary);
        }

        .section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .button-group, .avatar-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
        }
        h2 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 600;
        }
        h3 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--muted-foreground);
        }

        /* Demo section styles */
        .demo-section {
            padding: 1.5rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border);
            background-color: var(--card);
            color: var(--card-foreground);
        }

        /* Code section */
        .code-section {
            background-color: var(--muted);
            color: var(--muted-foreground);
            padding: 1rem;
            border-radius: 0.375rem;
            font-family: monospace;
            margin-top: 1rem;
        }
        
        /* New shadcn-updates banner */
        .shadcn-updates-banner {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: var(--primary-foreground);
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            margin-bottom: 1rem;
            font-weight: 500;
        }
    </style>

    <!-- 3. Theme Toggle Script -->
    <script type="module">
        try {
            // Import the CORRECT provider bundle
            const themeProvider = await import('../../dist/components/theme/theme-provider.min.js'); 
            if (themeProvider && themeProvider.setTheme) {
                const setLightBtn = document.getElementById('set-light');
                const setDarkBtn = document.getElementById('set-dark');
                const setSystemBtn = document.getElementById('set-system');
                
                // Initialize with the current theme
                const updateActiveButton = (theme) => {
                    setLightBtn.classList.toggle('active', theme === 'light');
                    setDarkBtn.classList.toggle('active', theme === 'dark');
                    setSystemBtn.classList.toggle('active', theme === 'system');
                };
                
                // Get current theme
                const currentTheme = localStorage.getItem('theme') || 'system';
                updateActiveButton(currentTheme);
                
                // Event listeners
                setLightBtn?.addEventListener('click', () => {
                    themeProvider.setTheme('light');
                    updateActiveButton('light');
                });
                
                setDarkBtn?.addEventListener('click', () => {
                    themeProvider.setTheme('dark');
                    updateActiveButton('dark');
                });
                
                setSystemBtn?.addEventListener('click', () => {
                    themeProvider.setTheme('system');
                    updateActiveButton('system');
                });
            } else {
                 console.error('Theme provider or setTheme function not found.');
            }
        } catch (error) {
            console.error('Failed to load theme provider for toggling:', error);
        }
    </script>
</head>
<body>
    <h1>Web Components Demo</h1>
    
    <div class="shadcn-updates-banner">
        Updated with the latest shadcn UI standards (January 2025)
    </div>
    
    <div class="section">
        <h2>Theme Toggle</h2>
        <div class="button-group">
            <button id="set-light" class="theme-toggle-btn">Light Theme</button>
            <button id="set-dark" class="theme-toggle-btn">Dark Theme</button>
            <button id="set-system" class="theme-toggle-btn">System Theme</button>
        </div>
    </div>
    
    <div class="demo-section">
        <h2>Button Variants Overview</h2>
        <p>A complete showcase of all button variants with proper theming in both light and dark modes</p>
        
        <div class="section">
            <h3>Primary Buttons</h3>
            <div class="button-group">
                <my-button variant="primary" size="sm">Small</my-button>
                <my-button variant="primary" size="md">Medium</my-button>
                <my-button variant="primary" size="lg">Large</my-button>
                <my-button variant="primary" size="icon">
                    <span>+</span>
                </my-button>
            </div>
        </div>

        <div class="section">
            <h3>Secondary Buttons</h3>
            <div class="button-group">
                <my-button variant="secondary" size="sm">Small</my-button>
                <my-button variant="secondary" size="md">Medium</my-button>
                <my-button variant="secondary" size="lg">Large</my-button>
                <my-button variant="secondary" size="icon">
                    <span>?</span>
                </my-button>
            </div>
        </div>

        <div class="section">
            <h3>Outline Buttons</h3>
            <div class="button-group">
                <my-button variant="outline" size="sm">Small</my-button>
                <my-button variant="outline" size="md">Medium</my-button>
                <my-button variant="outline" size="lg">Large</my-button>
                <my-button variant="outline" size="icon">
                    <span>√ó</span>
                </my-button>
            </div>
        </div>

        <div class="section">
            <h3>Ghost Buttons</h3>
            <div class="button-group">
                <my-button variant="ghost" size="sm">Small</my-button>
                <my-button variant="ghost" size="md">Medium</my-button>
                <my-button variant="ghost" size="lg">Large</my-button>
                <my-button variant="ghost" size="icon">
                    <span>‚â°</span>
                </my-button>
            </div>
        </div>

        <div class="section">
            <h3>Link Buttons</h3>
            <div class="button-group">
                <my-button variant="link" size="sm">Small</my-button>
                <my-button variant="link" size="md">Medium</my-button>
                <my-button variant="link" size="lg">Large</my-button>
            </div>
        </div>

        <div class="section">
            <h3>Destructive Buttons</h3>
            <div class="button-group">
                <my-button variant="destructive" size="sm">Small</my-button>
                <my-button variant="destructive" size="md">Medium</my-button>
                <my-button variant="destructive" size="lg">Large</my-button>
                <my-button variant="destructive" size="icon">
                    <span>üóëÔ∏è</span>
                </my-button>
            </div>
        </div>
    </div>
    
    <div class="demo-section">
        <h2>Button States</h2>
        
        <div class="section">
            <h3>Disabled States</h3>
            <div class="button-group">
                <my-button variant="primary" size="md" disabled>Primary Disabled</my-button>
                <my-button variant="secondary" size="md" disabled>Secondary Disabled</my-button>
                <my-button variant="outline" size="md" disabled>Outline Disabled</my-button>
                <my-button variant="ghost" size="md" disabled>Ghost Disabled</my-button>
                <my-button variant="link" size="md" disabled>Link Disabled</my-button>
                <my-button variant="destructive" size="md" disabled>Destructive Disabled</my-button>
            </div>
        </div>

        <div class="section">
            <h3>Loading States (New)</h3>
            <div class="button-group">
                <my-button variant="primary" size="md" loading>Primary Loading</my-button>
                <my-button variant="secondary" size="md" loading>Secondary Loading</my-button>
                <my-button variant="outline" size="md" loading>Outline Loading</my-button>
                <my-button variant="ghost" size="md" loading>Ghost Loading</my-button>
                <my-button variant="destructive" size="md" loading>Destructive Loading</my-button>
            </div>
        </div>

        <div class="section">
            <h3>With Icons</h3>
            <div class="button-group">
                <my-button variant="primary" size="md">
                    <span style="margin-right: 0.5rem;">üîç</span>
                    Search
                </my-button>
                <my-button variant="secondary" size="md">
                    <span style="margin-right: 0.5rem;">üìù</span>
                    Edit
                </my-button>
                <my-button variant="outline" size="md">
                    <span style="margin-right: 0.5rem;">‚ûï</span>
                    Add
                </my-button>
                <my-button variant="ghost" size="md">
                    <span style="margin-right: 0.5rem;">üëÅÔ∏è</span>
                    View
                </my-button>
                <my-button variant="link" size="md">
                    <span style="margin-right: 0.5rem;">üîó</span>
                    Link
                </my-button>
                <my-button variant="destructive" size="md">
                    <span style="margin-right: 0.5rem;">üóëÔ∏è</span>
                    Delete
                </my-button>
            </div>
        </div>
    </div>
    
    <div class="demo-section">
        <h2>Avatar Examples</h2>
        
        <div class="section">
            <h3>Standard Sizes</h3>
            <div class="avatar-group">
                <!-- Circle avatars with image -->
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="shadcn" 
                    size="sm" 
                    shape="circle"
                ></my-avatar>
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="shadcn" 
                    size="md" 
                    shape="circle"
                ></my-avatar>
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="shadcn" 
                    size="lg" 
                    shape="circle"
                ></my-avatar>
                
                <!-- New larger sizes -->
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="shadcn" 
                    size="xl" 
                    shape="circle"
                ></my-avatar>
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="shadcn" 
                    size="2xl" 
                    shape="circle"
                ></my-avatar>
            </div>
        </div>
        
        <div class="section">
            <h3>Square Shape</h3>
            <div class="avatar-group">
                <!-- Square avatars -->
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="shadcn" 
                    size="sm" 
                    shape="square"
                ></my-avatar>
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="shadcn" 
                    size="md" 
                    shape="square"
                ></my-avatar>
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="shadcn" 
                    size="lg" 
                    shape="square"
                ></my-avatar>
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="shadcn" 
                    size="xl" 
                    shape="square"
                ></my-avatar>
            </div>
        </div>
        
        <div class="section">
            <h3>Fallback Examples</h3>
            <div class="avatar-group">
                <!-- Fallback examples -->
                <my-avatar 
                    alt="John Doe" 
                    size="md" 
                    shape="circle"
                ></my-avatar>
                <my-avatar 
                    alt="Jane Smith" 
                    size="md" 
                    shape="circle"
                    fallback="JS"
                ></my-avatar>
                <my-avatar 
                    alt="Shadcn UI" 
                    size="lg" 
                    shape="circle"
                    fallback="UI"
                ></my-avatar>
            </div>
        </div>
        
        <div class="section">
            <h3>Status Indicators (New)</h3>
            <div class="avatar-group">
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="Online User" 
                    size="md" 
                    shape="circle"
                    status="online"
                ></my-avatar>
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="Busy User" 
                    size="md" 
                    shape="circle"
                    status="busy"
                ></my-avatar>
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="Away User" 
                    size="md" 
                    shape="circle"
                    status="away"
                ></my-avatar>
                <my-avatar 
                    src="https://github.com/shadcn.png" 
                    alt="Offline User" 
                    size="md" 
                    shape="circle"
                    status="offline"
                ></my-avatar>
                
                <!-- Fallback with status -->
                <my-avatar 
                    alt="John Doe" 
                    size="lg" 
                    shape="circle"
                    status="online"
                ></my-avatar>
            </div>
        </div>
    </div>
    
    <div class="code-section">
        <h3>Usage Examples</h3>
        <pre>
&lt;!-- Button with icon size (new) --&gt;
&lt;my-button variant="outline" size="icon"&gt;+&lt;/my-button&gt;

&lt;!-- Loading button (new) --&gt;
&lt;my-button variant="primary" loading&gt;Loading&lt;/my-button&gt;

&lt;!-- Avatar with status (new) --&gt;
&lt;my-avatar 
    src="https://github.com/shadcn.png" 
    alt="User" 
    size="md" 
    status="online"
&gt;&lt;/my-avatar&gt;

&lt;!-- Avatar with new sizes (new) --&gt;
&lt;my-avatar 
    src="https://github.com/shadcn.png" 
    alt="User" 
    size="2xl"
&gt;&lt;/my-avatar&gt;
        </pre>
    </div>
</body>
</html> 