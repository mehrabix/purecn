{"version":3,"file":"components/avatar/avatar.min.js","sources":["webpack://purecn/./src/components/avatar/avatar.ts"],"sourcesContent":["import styles from './avatar.scss';\nexport class AvatarComponent extends HTMLElement {\n    constructor() {\n        super();\n        this.shadow = this.attachShadow({ mode: 'open' });\n        this.render();\n    }\n    static get observedAttributes() {\n        return ['src', 'alt', 'size', 'shape', 'fallback', 'status', 'delayMs'];\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    get alt() {\n        return this.getAttribute('alt') || '';\n    }\n    get size() {\n        return this.getAttribute('size') || 'md';\n    }\n    get shape() {\n        return this.getAttribute('shape') || 'circle';\n    }\n    get fallback() {\n        return this.getAttribute('fallback') || '';\n    }\n    get status() {\n        return this.getAttribute('status') || 'none';\n    }\n    get delayMs() {\n        return parseInt(this.getAttribute('delayMs') || '0', 10);\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue !== newValue) {\n            this.render();\n        }\n    }\n    handleError() {\n        const fallback = this.fallback || this.alt.slice(0, 2).toUpperCase();\n        const avatarEl = this.shadow.querySelector('.avatar');\n        if (avatarEl) {\n            avatarEl.innerHTML = `<span class=\"fallback\" data-slot=\"avatar-fallback\">${fallback}</span>`;\n        }\n    }\n    render() {\n        const styleElement = document.createElement('style');\n        styleElement.textContent = AvatarComponent.styles;\n        this.shadow.innerHTML = '';\n        this.shadow.appendChild(styleElement);\n        // Add a delay for loading the image if specified\n        const delayAttr = this.delayMs > 0 ? `loading=\"lazy\" fetchpriority=\"low\"` : '';\n        // Image content with data-slot attribute for better styling options\n        const avatarContent = this.src\n            ? `<img \r\n           src=\"${this.src}\" \r\n           alt=\"${this.alt}\"\r\n           data-slot=\"avatar-image\"\r\n           ${delayAttr}\r\n         >`\n            : `<span class=\"fallback\" data-slot=\"avatar-fallback\">${this.fallback || this.alt.slice(0, 2).toUpperCase()}</span>`;\n        // Status indicator HTML if status is set\n        const statusHtml = this.status !== 'none'\n            ? `<span class=\"status-indicator ${this.status}\" data-slot=\"avatar-status\"></span>`\n            : '';\n        this.shadow.innerHTML += `\r\n      <div class=\"avatar ${this.size} ${this.shape}\" data-slot=\"avatar\">\r\n        ${avatarContent}\r\n        ${statusHtml}\r\n      </div>\r\n    `;\n        // Add error handler if image is present\n        if (this.src) {\n            const img = this.shadow.querySelector('img');\n            if (img) {\n                img.addEventListener('error', () => this.handleError());\n            }\n        }\n    }\n}\nAvatarComponent.styles = '';\n(() => {\n    if (typeof styles === 'string') {\n        AvatarComponent.styles = styles;\n    }\n})();\n// Register the component\nif (!customElements.get('pure-avatar')) {\n    customElements.define('pure-avatar', AvatarComponent);\n}\n"],"names":["AvatarComponent","HTMLElement","constructor","super","this","shadow","attachShadow","mode","render","observedAttributes","src","getAttribute","alt","size","shape","fallback","status","delayMs","parseInt","attributeChangedCallback","name","oldValue","newValue","handleError","slice","toUpperCase","avatarEl","querySelector","innerHTML","styleElement","document","createElement","textContent","styles","appendChild","delayAttr","avatarContent","statusHtml","img","addEventListener","customElements","get","define"],"mappings":"mmDACO,MAAMA,UAAwBC,YACjC,WAAAC,GACIC,QACAC,KAAKC,OAASD,KAAKE,aAAa,CAAEC,KAAM,SACxCH,KAAKI,QACT,CACA,6BAAWC,GACP,MAAO,CAAC,MAAO,MAAO,OAAQ,QAAS,WAAY,SAAU,UACjE,CACA,OAAIC,GACA,OAAON,KAAKO,aAAa,QAAU,EACvC,CACA,OAAIC,GACA,OAAOR,KAAKO,aAAa,QAAU,EACvC,CACA,QAAIE,GACA,OAAOT,KAAKO,aAAa,SAAW,IACxC,CACA,SAAIG,GACA,OAAOV,KAAKO,aAAa,UAAY,QACzC,CACA,YAAII,GACA,OAAOX,KAAKO,aAAa,aAAe,EAC5C,CACA,UAAIK,GACA,OAAOZ,KAAKO,aAAa,WAAa,MAC1C,CACA,WAAIM,GACA,OAAOC,SAASd,KAAKO,aAAa,YAAc,IAAK,GACzD,CACA,wBAAAQ,CAAyBC,EAAMC,EAAUC,GACjCD,IAAaC,GACblB,KAAKI,QAEb,CACA,WAAAe,GACI,MAAMR,EAAWX,KAAKW,UAAYX,KAAKQ,IAAIY,MAAM,EAAG,GAAGC,cACjDC,EAAWtB,KAAKC,OAAOsB,cAAc,WACvCD,IACAA,EAASE,UAAY,sDAAsDb,WAEnF,CACA,MAAAP,GACI,MAAMqB,EAAeC,SAASC,cAAc,SAC5CF,EAAaG,YAAchC,EAAgBiC,OAC3C7B,KAAKC,OAAOuB,UAAY,GACxBxB,KAAKC,OAAO6B,YAAYL,GAExB,MAAMM,EAAY/B,KAAKa,QAAU,EAAI,qCAAuC,GAEtEmB,EAAgBhC,KAAKM,IACrB,0BACIN,KAAKM,0BACLN,KAAKQ,yDAEVuB,gBAEC,sDAAsD/B,KAAKW,UAAYX,KAAKQ,IAAIY,MAAM,EAAG,GAAGC,uBAE5FY,EAA6B,SAAhBjC,KAAKY,OAClB,iCAAiCZ,KAAKY,4CACtC,GAQN,GAPAZ,KAAKC,OAAOuB,WAAa,8BACNxB,KAAKS,QAAQT,KAAKU,uCACnCsB,cACAC,wBAIEjC,KAAKM,IAAK,CACV,MAAM4B,EAAMlC,KAAKC,OAAOsB,cAAc,OAClCW,GACAA,EAAIC,iBAAiB,SAAS,IAAMnC,KAAKmB,eAEjD,CACJ,EAEJvB,EAAgBiC,OAAS,GAGjBjC,EAAgBiC,OAAS,EAI5BO,eAAeC,IAAI,gBACpBD,eAAeE,OAAO,cAAe1C,G"}